<form #f="ngForm" (ngSubmit)="onSubmit(f)" class="form-horizontal">

  <mat-card>
    <mat-card-content>

      <div class="form-group">
        <mat-form-field appearance="fill" class="col-sm-12">
          <mat-label for="nome">Nome</mat-label>
          <input type="text" matInput name="nome" id="nome" placeholder="Nome" [(ngModel)]="usuario.nome" required
            #nome="ngModel">
          <mat-error>
            Nome é obrigatório
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-form-field appearance="fill" class="col-sm-12">
          <mat-label for="email">Email</mat-label>
          <input type="email" matInput name="email" id="email" placeholder="name@email.com" [(ngModel)]="usuario.email"
            required email #email="ngModel">
          <mat-error>
            Email está inválido ou vazio
          </mat-error>
        </mat-form-field>
      </div>

      <div ngModelGroup="endereco">

        <div class="form-group">
          <mat-form-field appearance="fill" class="col-sm-3">
            <mat-label>CEP</mat-label>
            <input matInput type="cep" name="cep" id="cep" ngModel required #cep="ngModel"
              (blur)="consultaCEP(cep.value, f)" />
            <mat-error>
              CEP é obrigatório
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill" class="col-sm-3">
            <mat-label>Numero</mat-label>
            <input matInput type="numero" name="numero" id="numero" ngModel required #numero="ngModel" />
            <mat-error>
              Numero é obrigatório
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill" class="col-sm-6">
            <mat-label>Complemento</mat-label>
            <input matInput type="complemento" name="complemento" id="complemento" ngModel #complemento="ngModel" />
          </mat-form-field>

        </div>

        <div class="form-group">
          <mat-form-field appearance="fill" class="col-sm-12">
            <mat-label for="rua">Rua</mat-label>
            <input matInput type="rua" name="rua" id="rua" ngModel #rua="ngModel" />
            <!--use 'readonly after "ngModel" if you want this field to be readonly'-->
            <mat-error>
              Rua é obrigatório
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-form-field appearance="fill" class="col-sm-5">
            <mat-label for="bairro">Bairro</mat-label>
            <input matInput type="bairro" name="bairro" id="bairro" ngModel #bairro="ngModel" />
            <mat-error>
              Bairro é obrigatório
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill" class="col-sm-4">
            <mat-label for="cidade">Cidade</mat-label>
            <input matInput type="cidade" name="cidade" id="cidade" ngModel #cidade="ngModel" />
            <mat-error>
              cidade é obrigatório
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill" class="col-sm-3">
            <mat-label for="estado">Estado</mat-label>
            <input matInput type="estado" name="estado" id="estado" ngModel #estado="ngModel" />
            <mat-error>
              Estado é obrigatório
            </mat-error>
          </mat-form-field>

        </div>

      </div>

      <button mat-raised-button color="primary" [disabled]="!f.valid">Submit</button>

      <app-form-debug [form]="f"></app-form-debug>
        <!--IF YOU WANT TO DEBUG AND SEE THE INFO IN THE FORM-->
    </mat-card-content>

  </mat-card>


</form>
